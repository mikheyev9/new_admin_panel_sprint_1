# Django Admin Panel
Этот проект представляет собой административную панель, реализованную на Django. Для контейнеризации используется Docker.

В проекте поддерживаются два варианта подключения к базе данных:

- Локальная база данных: База данных запущена в контейнере на этом же сервере.

- Удалённая база данных: База данных находится на удалённом сервере.


Вот отредактированное описание процесса запуска через Docker Compose:


# Запуск через Docker Compose

    1) Настройка переменных окружения
        На основе файла-шаблона movies_admin/env.template создайте файл movies_admin/.env и заполните его необходимыми данными:


    2) Настройка сети для сервиса Django
        Если база данных запускается в Docker, убедитесь, что в сервисе django добавлена нужная сеть, в которой находится база данных. Пример для Docker Compose:

            networks:
              - app_network
              - database_network

        Если база данных запущена на удалённом сервере, укажите корректные данные для подключения в файле .env:

    3) Запуск Docker Compose

        Выполните команду:
         ```docker compose up --build```

----------------
# Запуск через Makefile

# Требования
- Установленный Docker и Docker Compose.
- Конфигурация переменных окружения в файле .env.

# Настройка переменных окружения
Перед началом работы убедитесь, что у вас есть файл .env в корне проекта. 

# Перед запуском приложения выполните сборку Docker-образа:
```make build```

# Запуск приложения
В зависимости от того, где расположена база данных, используйте разные команды для запуска:

1. Локальная база данных
Убедитесь, что сеть Docker, указанная в переменной DB_NETWORK_NAME, существует и контейнер с базой данных подключен к этой сети :

Запустите приложение:
```make run```

2. Удалённая база данных
Настройте в файле .env переменные DB_HOST и DB_PORT, чтобы они указывали на удалённый сервер.
Запустите приложение:
```make run-db-remote```


# Запуск Nginx

- Скопируйте статику из контейнера Django в локальную папку (по умолчанию /static):
```make copy-static```

- Запустите Nginx:
```make run-nginx```


# Доступные команды

- Сборка Docker-образа:
  ```make build```

- Запуск контейнера с локальной базой данных:
```make run```

- Запуск контейнера с удалённой базой данных:
```make run-db-remote```

- Остановка и удаление контейнера:
```make stop```

- Перезапуск контейнера:
```make restart```

- Открыть оболочку внутри контейнера:
```make shell```

- Просмотр логов контейнера:
```make logs```

- Очистка (удаление контейнеров и образа):
```make clean```

- Создание сети Docker:
make create-network

- Копирование статики из контейнера:
```make copy-static```

- Запуск Nginx:
```make run-nginx```

Пример работы с Контейнером
После запуска make run или make run-db-remote вы можете получить доступ к вашему приложению через браузер по адресу http://127.0.0.1:8000

Пример работы с Nginx
После запуска Nginx, вы можете получить доступ к вашему приложению через браузер по адресу http://127.0.0.1

# Примечания
- Убедитесь, что переменные окружения в файле .env настроены корректно перед запуском.
- Если вы используете удалённую базу данных, убедитесь, что она доступна и настройки подключения (DB_HOST, DB_PORT, DB_USER, DB_PASSWORD) верны.

-------------------------------------------

# Проектное задание: панель администратора

Вам необходимо разработать сервис, который позволит создавать и редактировать записи в базе данных.

Критерии готовности:

- Интерфейс панели администратора настроен стандартными средствами Django.
- В нём можно создавать, редактировать и удалять кинопроизведения, жанры и персон.
- Связи между кинопроизведениями, жанрами и персонами заводятся на странице редактирования кинопроизведения.
- Вы используете базу данных, созданную на прошлом этапе.
- Системные таблицы Django не используют схему content.
- У вас описана initial-миграция, которая создаёт те же структуры, что и SQL из первого задания.
- Таблицы описаны в файле models.py.
- `settings.py` разбит на логические модули
- Поля created и modified проставляются автоматически.
- Чувствительные данные берутся из переменных окружения
- Все тексты переведены на русский с помощью `gettext_lazy`
